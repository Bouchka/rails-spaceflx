<div class="d-flex justify-content-between">
  <div class="listings style="width: 50%;">
    <div class="search-bar">
      <%= render 'shared/search_bar' %>
    </div>
    <div class="listing-titles">
      <h5><%= "#{@spaces.size} spaces" %></h5>
      <h1>
        Spaces
        <% if @search_term.present? %>
          <span>Near <%= @search_term.capitalize %></span>
          <% end %>
      </h1>
    </div>
    <div class="listing-list">
      <% @spaces.each do |space| %>
        <%= link_to space_path(space) do %>
          <div class="card-product my-3">
            <% if space.photo.attached? %>
              <%= cl_image_tag space.photo.key %>
            <% end %>
            <div class="card-product-infos">
              <h2><%= space.name %></h2>
              <p class="address"><i class="fas fa-map-marker-alt"></i> <%= space.address %></p>
              <p class="capacity"><i class="fas fa-users"></i> <%= space.capacity %></p>
              <p class="description mb-2"><%= space.description %></p>
                <%= link_to space_path(space), class: 'card-action-button' do %>
                <i class="far fa-calendar-plus"></i> Book this Space
                <% end %>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
  <div id="map" class="fixed-top position-sticky" style="width: 50%; height: 100vh;" data-markers="<%= @markers.to_json %>" data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>">
</div>
</div>
